---
title: '强大的正则:带你获取你想要的各种数据'
date: 2019-08-18 15:51:46
tags: [正则]
---

### 说明
作为程序员，爬虫虽然强大，但是记得规范自己的行为，不要做违法的事情。

### 普通的标签爬取
普通的标签爬取是最基本的爬取工作直接复制粘贴就可以拿到自己想要的数据了，
但是很多网站并不会然你这么轻松的就获取到它的数据，很多网站爬取的时候就只是一堆js字符串，我们并不能通过标签拿到
对应的数据。这种情况写就需要要我们拿出最厉害的杀手锏了：正则！

### 正则的威力
网页一般都会有他么自己的特点，我们需要做的就是分析它的特点，拿到对应的链接或者内容，但是有一些网站渲染的时候我们拿不到对应的html，拿到的
只是一堆js字符串，这样我们没法通过xpath或者selector去找到我们想要的内容，我们只好使出杀手锏正则了，说到正则我想大多数人的第一映像应该是
像号码邮箱这样的校验正则。这只是最基本的应用，厉害的地方就是可以从一堆奇怪的字符串里面提取出自己想要的内容。下面讲两个十分实用的正则。

### 贪心与非贪心，反向引用
利用正则爬取数据的最核心应该就是贪心与非贪心的应用了，因为网页里面有重复的字符串太常见了，我们首先得找出唯一的字符串，一般情况下是使用**非贪心(.*?)**
来定位到数据的开始再使用**非贪心(.*?)** 定位到数据的结尾，然后使用 **获取匹配**的替换符号($1, $2, $3)将数据提取出来即可。
例如我要爬取这段字符串里面的<img src="www.baidu.com" alt="图片链接"> 的链接只需要使用这个正则<img src="(.*?)" alt="图片链接">然后用$1替换即可。

### 正向预查与反向预查找
有时候可能有很多种情况都瞒住我们的正则，但是我们只需要和某些字相关的匹配项，我们可以使用预查找，意思就是后面或者前面得是我指定的那些值的匹配项我才需要：
例如：aaabbbaaacccaaaddd 如果我只要后面是ccc的那个aaa字符串我们可以使用
**正向预查**：aaa(?=ccc)来匹配，这个只会匹配第二个aaa，又或者我们只要前面是ccc的那个aaa我们可以使用
**反向预查**：aaa(?<=ccc)这样会匹配第三个aaa，也就是aaa的左边是ccc的那个aaa。



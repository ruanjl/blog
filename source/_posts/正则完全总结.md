---
title: 正则完全总结
date: 2019-06-01 14:41:58
tags: [正则]
---
### 前言
正则的实用与强大勿用多说，不仅平时找文本，替换文本有实用的效果，写代码的格式校验，文本
匹配爬虫的文本匹配，重复匹配，都是相当的好用。  

>正则前前后后看的遍数有个3,4遍了，这次做一个总结，因为这次基本将所有的东西都纳入进来了。

### 普通字符与元字符
> 正则表达式其实就是有两部分组成，普通字符就是我们的字面文字，
元字符是用来实现正则功能的文字，就像一个工具字符。如果要匹配元字符这样的字面文本，加个转义就可以了。
#### 普通字符
``` regexp
  String regexp = "123";
  String text = "123456"
  不加其他元字符，这个就只是匹配 "123"，甚至我都不会以为这个一个正则，只是一个普通的查找。
```
普通字符匹配，就是直观的匹配,一般我们需要将某些文本内的独有的，有特征的文本找出来，来供我们进行匹配。普字符是什么就匹配什么。

#### 元字符
> 元字符基本就是正则的核心，学习正则就是了解所有的这些元字符，他用所有他定义的元字符来实现它指定的功能。元字符有大致分为6种，用来实现不同的功能。

##### 非打印字符
> 打印出来不是我们所写的那样的字符,而是定义好了的一些效果的字符。

|符号|描述|
|:---:|:---|
|\n	|换行符|
|\r	|回车符|
|\s	|匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]。注意 Unicode 正则表达式会匹配全角空格符。|
|\S	|匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。|

等等。

##### 特殊字符
> 有特殊含义的功能字符

|特殊字符|描述|
|:---:|:---|
|$|匹配输入字符串的结尾位置。如果设置了 RegExp 对象的 Multiline 属性，则 $ 也匹配 '\n' 或 '\r'。要匹配字面 $ 字符本身，使用 \\$。|
|( )|标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。要匹配这些字符，使用 \\( 和 \\)。|
|*|匹配前面的子表达式零次或多次。要匹配字面 * 字符，使用 \\\*。|
|+|匹配前面的子表达式一次或多次。要匹配字面 + 字符，使用 \\\+。|
|.|匹配除换行符 \n 之外的任何单字符。要匹配 . ，使用 \\. 。|
|[|标记一个中括号表达式的开始。要匹配 [，使用 \\[。|
|?|匹配前面的子表达式零次或一次，或指明一个非贪婪限定符。要匹配字面 ? 字符，使用 \\?。|
|\\|将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符。如，'n' 匹配'n'。'\n' 换行符。序列 '\\' 匹配 "\"，而 '\(' 则匹配 "("。|
|^|匹配输入字符串的开始位置，不过在方括号表达式中使用，此时它表示非。要匹配字面 ^ 字符本身，使用 \\^。|
|{|标记限定符表达式的开始。要匹配 {，使用 \\{。|
| &#124; |指明两项之间的一个选择。要匹配 &#124; ，使用 \\&#124;。|

##### 限定符
> 用来表示个数的

|字符	|描述|
|:---:|:---|
|*|匹配紧贴前面的单个字母或者表达式0次或多次。|
|+|匹配紧贴前面的单个字母或者表达式1次或多次。|
|?|匹配紧贴前面的单个字母或者表达式0次或1次。|
|{n}|n 是一个非负整数。匹配确定的 n 次。|
|{n,}|n 是一个非负整数。至少匹配n次。|
|{n,m}|m 和 n 均为非负整数，匹配前面字符或者表达式连续出现n到m次|

##### 定位符
> 表示匹配项和空格，或者换行符的关系

|字符|描述|
|:---:|:---|
|^	|匹配输入字符串开始的位置。如果设置了 RegExp 对象的 Multiline 属性，^ 还会与 \n 或 \r 之后的位置匹配。|
|$	|匹配输入字符串结尾的位置。如果设置了 RegExp 对象的 Multiline 属性，$ 还会与 \n 或 \r 之前的位置匹配。|
|\b	|匹配一个单词边界，即字与空格间的位置。|
|\B	|非单词边界匹配。|

##### 选择
> 表示匹配项和旁边字符的关系,分 **分获取匹配和**和**非获取匹配** 配合括号使用

用圆括号将所有选择项括起来的时候，相邻的选择项之间用|分隔。但用圆括号会有一个副作用，使相关的匹配会被缓存，此时可用?:放在第一个选项前来消除这种副作用。
其中 ?: 是非捕获元之一，还有两个非捕获元是 ?= 和 ?!，这两个还有更多的含义，前者为正向预查，在任何开始匹配圆括号内的正则表达式模式的位置来匹配搜索字符串，
后者为负向预查，在任何开始不匹配该正则表达式模式的位置来匹配搜索字符串。

##### 反向引用
> 对已经获取到缓冲区的匹配项的引用，最简单的、最有用的应用之一，是提供查找文本中两个相同的相邻单词的匹配项的能力。
和替换功能里面的$1 符号类似。

所捕获的每个子匹配都按照在正则表达式模式中从左到右出现的顺序存储。缓冲区编号从 1 开始，最多可存储 99 个捕获的子表达式。
每个缓冲区都可以使用 \n 访问，其中 n 为一个标识特定缓冲区的一位或两位十进制数。可以使用非捕获元字符 ?:、?= 或 ?! 来重写捕获，忽略对相关匹配的保存。

### 贪心与非贪心
> 当匹配两个字符中间夹着的匹配项的时候如果有多个匹配项，正则模式使用的是贪心模式，也就是内容匹配最多的那种
>通过在 *,+ 或 ? 限定符之后放置 ?，该表达式从"贪心"表达式转换为"非贪心"表达式或者最小匹配。

### 获取与非获取匹配
> 使用括号的时候会将括号里面的匹配项放入正则的缓冲区域里面(最多99项),这是获取匹配。

|符号|说明|
|:---:|:---|
|(pattern)|匹配 pattern 并获取这一匹配。所获取的匹配可以从产生的 Matches 集合得到，在VBScript 中使用 SubMatches 集合，在JScript 中则使用 $0…$9 属性。要匹配圆括号字符，请使用 '\(' 或 '\)'。|
|(?:pattern)|匹配 pattern 但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用 "或" 字符 (\\&#124;) 来组合一个模式的各个部分是很有用。例如， 'industr(?:y\\&#124;ies) 就是一个比 'industry\\&#124;industries' 更简略的表达式。|

### 正反向肯定否定预查找
    
|表达式模板|说明|
|:---|:---|
|(?=pattern)|匹配给定字符后面的字符是括号里面期望项目，如1(?=2),表示匹配1后面是2的1而不是别的，12匹配成功，13匹配失败|
|(?!pattern)|匹配给定字符后面的字符不是是括号里面期望项目,如1(?!=2),表示匹配1后面不是2的1，12匹配失败，13匹配成功|
|(?<=pattern)|匹配给定字符前面的字符是括号里面期望项目，与上面的类似|
|(?<!pattern)|匹配给定字符前面的字符不是是括号里面期望项目，与上面的类似|














---
title: 究竟应该怎么实现分布式锁？
date: 2019-01-22 21:54:06
tags: 分布式
categories: [分布式]
---
![](http://ww1.sinaimg.cn/large/006Cwrd9gy1fzfs9sj3xkj31hc0u07de.jpg)
##背景：
前几天突然接到任务说要实现一个分布式锁，由于之前有自己实现过一些demo，对各种分布式锁也都有一定的了解，
实现的时候会数量一些，但是毕竟是公司直接要拿来用的东西，反复斟酌后才把初期的方案定了下来。

### 常用的分布式锁
基于redis的分布式锁
- 使用setNX的方式
- 直接使用redis官方的redission已经实现好的redLock

基于zookeeper的分布式锁
- 利用zookeeper的顺序临时节点，自旋比较自己的节点是否是节点里的最小值，来获得锁。

基于etcd的分布式锁
- 原理与zookeeper类似

